{
  "timestamp": "2025-09-18T16:39:27.827Z",
  "tests": [
    {
      "name": "Node.js Version Check",
      "status": "PASSED",
      "command": "node --version",
      "output": null,
      "timestamp": "2025-09-18T16:39:27.865Z"
    },
    {
      "name": "PNPM Version Check",
      "status": "PASSED",
      "command": "pnpm --version",
      "output": null,
      "timestamp": "2025-09-18T16:39:28.622Z"
    },
    {
      "name": "TypeScript Version Check",
      "status": "PASSED",
      "command": "npx tsc --version",
      "output": null,
      "timestamp": "2025-09-18T16:39:29.555Z"
    },
    {
      "name": "Outdated Packages Check",
      "status": "WARNING",
      "command": "npx npm-check-updates",
      "output": "Using pnpm\nChecking C:\\Users\\Kenth\\Desktop\\echotrail-project\\echotrail\\apps\\backend\\package.json\n\n @prisma/client        ^5.22.0  →  ^6.16.2\n @types/bcryptjs        ^2.4.6  →   ^3.0.0\n @types/compression     ^1.7.5  →   ^1.8.1\n @types/cors           ^2.8.17  →  ^2.8.19\n @types/express         ^5.0.0  →   ^5.0.3\n @types/jest          ^29.5.14  →  ^30.0.0\n @types/jsonwebtoken    ^9.0.7  →  ^9.0.10\n @types/node          ^22.10.0  →  ^24.5.2\n @types/nodemailer     ^6.4.19  →   ^7.0.1\n @types/pg            ^8.11.10  →  ^8.15.5\n @types/uuid           ^10.0.0  →  ^11.0.0\n axios                  ^1.7.7  →  ^1.12.2\n bcryptjs               ^2.4.3  →   ^3.0.2\n compression            ^1.7.4  →   ^1.8.1\n dotenv                ^16.4.7  →  ^17.2.2\n eslint                ^9.15.0  →  ^9.35.0\n express               ^4.19.2  →   ^5.1.0\n express-rate-limit     ^7.5.1  →   ^8.1.0\n helmet                 ^7.2.0  →   ^8.1.0\n jest                  ^29.7.0  →  ^30.1.3\n joi                  ^17.13.3  →  ^18.0.1\n nodemailer            ^6.9.16  →   ^7.0.6\n openai                ^4.69.0  →  ^5.21.0\n pg                    ^8.13.1  →  ^8.16.3\n pino                   ^9.9.5  →  ^9.10.0\n prisma                ^5.22.0  →  ^6.16.2\n ts-jest               ^29.2.5  →  ^29.4.3\n tsx                   ^4.19.2  →  ^4.20.5\n typescript             ^5.6.3  →   ^5.9.2\n uuid                  ^10.0.0  →  ^13.0.0\n winston               ^3.15.0  →  ^3.17.0\n\nRun npx npm-check-updates -u to upgrade package.json\n",
      "timestamp": "2025-09-18T16:39:34.153Z"
    },
    {
      "name": "Unused Dependencies",
      "status": "WARNING",
      "command": "npx depcheck",
      "error": "Command failed: npx depcheck",
      "output": "Unused dependencies\n* axios\n* nodemailer\n* openai\n* pg\nUnused devDependencies\n* 0x\n* @faker-js/faker\n* @types/jest\n* @types/node\n* @types/nodemailer\n* @types/pg\n* clinic\n* complexity-report\n* depcheck\n* dotenv-safe\n* madge\n* nock\n* npm-check-updates\n* pino\n* pino-pretty\n* snyk\n* supertest\n* ts-jest\nMissing dependencies\n* @typescript-eslint/eslint-config-recommended: .\\.eslintrc.js\n* @typescript-eslint/eslint-config-recommended-requiring-type-checking: .\\.eslintrc.js\n* @eslint/js: .\\eslint.config.mjs\n",
      "stderr": "",
      "timestamp": "2025-09-18T16:39:36.822Z"
    },
    {
      "name": "Package Installation Integrity",
      "status": "PASSED",
      "command": "pnpm install --frozen-lockfile",
      "output": null,
      "timestamp": "2025-09-18T16:39:44.234Z"
    },
    {
      "name": "TypeScript Compilation",
      "status": "WARNING",
      "command": "npx tsc --noEmit",
      "error": "Command failed: npx tsc --noEmit",
      "output": "src/config/config.ts(93,14): error TS2375: Type '{ port: number; nodeEnv: string; apiVersion: string; databaseUrl: string; neonRestApiUrl: string; stackAuthProjectId: string; stackAuthJwksUrl: string; jwtSecret: string; jwtExpiresIn: string; ... 15 more ...; fromName: string; }' is not assignable to type 'Config' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.\r\n  Types of property 'smtpHost' are incompatible.\r\n    Type 'string | undefined' is not assignable to type 'string'.\r\n      Type 'undefined' is not assignable to type 'string'.\r\nsrc/routes/auth.ts(41,27): error TS2769: No overload matches this call.\r\n  Overload 1 of 5, '(payload: string | object | Buffer<ArrayBufferLike>, secretOrPrivateKey: null, options?: (SignOptions & { algorithm: \"none\"; }) | undefined): string', gave the following error.\r\n    Argument of type 'string' is not assignable to parameter of type 'null'.\r\n  Overload 2 of 5, '(payload: string | object | Buffer<ArrayBufferLike>, secretOrPrivateKey: Buffer<ArrayBufferLike> | Secret | PrivateKeyInput | JsonWebKeyInput, options?: SignOptions | undefined): string', gave the following error.\r\n    Type 'string' is not assignable to type 'number | StringValue | undefined'.\r\n  Overload 3 of 5, '(payload: string | object | Buffer<ArrayBufferLike>, secretOrPrivateKey: Buffer<ArrayBufferLike> | Secret | PrivateKeyInput | JsonWebKeyInput, callback: SignCallback): void', gave the following error.\r\n    Object literal may only specify known properties, and 'expiresIn' does not exist in type 'SignCallback'.\r\nsrc/routes/auth.ts(47,28): error TS2769: No overload matches this call.\r\n  Overload 1 of 5, '(payload: string | object | Buffer<ArrayBufferLike>, secretOrPrivateKey: null, options?: (SignOptions & { algorithm: \"none\"; }) | undefined): string', gave the following error.\r\n    Argument of type 'string' is not assignable to parameter of type 'null'.\r\n  Overload 2 of 5, '(payload: string | object | Buffer<ArrayBufferLike>, secretOrPrivateKey: Buffer<ArrayBufferLike> | Secret | PrivateKeyInput | JsonWebKeyInput, options?: SignOptions | undefined): string', gave the following error.\r\n    Type 'string' is not assignable to type 'number | StringValue | undefined'.\r\n  Overload 3 of 5, '(payload: string | object | Buffer<ArrayBufferLike>, secretOrPrivateKey: Buffer<ArrayBufferLike> | Secret | PrivateKeyInput | JsonWebKeyInput, callback: SignCallback): void', gave the following error.\r\n    Object literal may only specify known properties, and 'expiresIn' does not exist in type 'SignCallback'.\r\nsrc/routes/auth.ts(87,46): error TS7006: Parameter 'req' implicitly has an 'any' type.\r\nsrc/routes/auth.ts(87,51): error TS7006: Parameter 'res' implicitly has an 'any' type.\r\nsrc/routes/auth.ts(149,43): error TS7006: Parameter 'req' implicitly has an 'any' type.\r\nsrc/routes/auth.ts(149,48): error TS7006: Parameter 'res' implicitly has an 'any' type.\r\nsrc/routes/auth.ts(205,44): error TS7006: Parameter 'req' implicitly has an 'any' type.\r\nsrc/routes/auth.ts(205,49): error TS7006: Parameter 'res' implicitly has an 'any' type.\r\nsrc/routes/auth.ts(239,45): error TS7006: Parameter 'req' implicitly has an 'any' type.\r\nsrc/routes/auth.ts(239,50): error TS7006: Parameter 'res' implicitly has an 'any' type.\r\nsrc/routes/auth.ts(320,39): error TS7006: Parameter 'req' implicitly has an 'any' type.\r\nsrc/routes/auth.ts(320,44): error TS7006: Parameter 'res' implicitly has an 'any' type.\r\nsrc/routes/shared.ts(15,43): error TS7006: Parameter 'req' implicitly has an 'any' type.\r\nsrc/routes/shared.ts(15,48): error TS7006: Parameter 'res' implicitly has an 'any' type.\r\nsrc/routes/stories.ts(15,37): error TS7006: Parameter 'req' implicitly has an 'any' type.\r\nsrc/routes/stories.ts(15,42): error TS7006: Parameter 'res' implicitly has an 'any' type.\r\nsrc/routes/stories.ts(43,46): error TS7006: Parameter 'req' implicitly has an 'any' type.\r\nsrc/routes/stories.ts(43,51): error TS7006: Parameter 'res' implicitly has an 'any' type.\r\nsrc/routes/stories.ts(57,40): error TS7006: Parameter 'req' implicitly has an 'any' type.\r\nsrc/routes/stories.ts(57,45): error TS7006: Parameter 'res' implicitly has an 'any' type.\r\nsrc/routes/trails.ts(15,37): error TS7006: Parameter 'req' implicitly has an 'any' type.\r\nsrc/routes/trails.ts(15,42): error TS7006: Parameter 'res' implicitly has an 'any' type.\r\nsrc/routes/trails.ts(32,38): error TS7006: Parameter 'req' implicitly has an 'any' type.\r\nsrc/routes/trails.ts(32,43): error TS7006: Parameter 'res' implicitly has an 'any' type.\r\nsrc/routes/trails.ts(45,40): error TS7006: Parameter 'req' implicitly has an 'any' type.\r\nsrc/routes/trails.ts(45,45): error TS7006: Parameter 'res' implicitly has an 'any' type.\r\nsrc/routes/trails.ts(58,40): error TS7006: Parameter 'req' implicitly has an 'any' type.\r\nsrc/routes/trails.ts(58,45): error TS7006: Parameter 'res' implicitly has an 'any' type.\r\nsrc/routes/trails.ts(71,43): error TS7006: Parameter 'req' implicitly has an 'any' type.\r\nsrc/routes/trails.ts(71,48): error TS7006: Parameter 'res' implicitly has an 'any' type.\r\nsrc/routes/trails.ts(84,53): error TS7006: Parameter 'req' implicitly has an 'any' type.\r\nsrc/routes/trails.ts(84,58): error TS7006: Parameter 'res' implicitly has an 'any' type.\r\nsrc/routes/trails.ts(95,54): error TS7006: Parameter 'req' implicitly has an 'any' type.\r\nsrc/routes/trails.ts(95,59): error TS7006: Parameter 'res' implicitly has an 'any' type.\r\nsrc/routes/trails.ts(108,47): error TS7006: Parameter 'req' implicitly has an 'any' type.\r\nsrc/routes/trails.ts(108,52): error TS7006: Parameter 'res' implicitly has an 'any' type.\r\nsrc/routes/users.ts(15,39): error TS7006: Parameter 'req' implicitly has an 'any' type.\r\nsrc/routes/users.ts(15,44): error TS7006: Parameter 'res' implicitly has an 'any' type.\r\nsrc/routes/users.ts(29,39): error TS7006: Parameter 'req' implicitly has an 'any' type.\r\nsrc/routes/users.ts(29,44): error TS7006: Parameter 'res' implicitly has an 'any' type.\r\n",
      "stderr": "",
      "timestamp": "2025-09-18T16:39:47.021Z"
    },
    {
      "name": "ESLint Code Analysis",
      "status": "WARNING",
      "command": "npx eslint src --ext .ts --no-error-on-unmatched-pattern",
      "error": "Command failed: npx eslint src --ext .ts --no-error-on-unmatched-pattern\n\nOops! Something went wrong! :(\n\nESLint: 9.35.0\n\nError: Key \"rules\": Key \"sonarjs/no-duplicate-string\":\n\tValue 5 should be object.\n\n    at Config.validateRulesConfig (C:\\Users\\Kenth\\Desktop\\echotrail-project\\echotrail\\node_modules\\eslint\\lib\\config\\config.js:612:12)\n    at new Config (C:\\Users\\Kenth\\Desktop\\echotrail-project\\echotrail\\node_modules\\eslint\\lib\\config\\config.js:484:9)\n    at [finalizeConfig] (C:\\Users\\Kenth\\Desktop\\echotrail-project\\echotrail\\node_modules\\eslint\\lib\\config\\flat-config-array.js:212:10)\n    at FlatConfigArray.getConfigWithStatus (C:\\Users\\Kenth\\Desktop\\echotrail-project\\echotrail\\node_modules\\@eslint\\config-array\\dist\\cjs\\index.cjs:1404:55)\n    at FlatConfigArray.getConfig (C:\\Users\\Kenth\\Desktop\\echotrail-project\\echotrail\\node_modules\\@eslint\\config-array\\dist\\cjs\\index.cjs:1422:15)\n    at entryFilter (C:\\Users\\Kenth\\Desktop\\echotrail-project\\echotrail\\node_modules\\eslint\\lib\\eslint\\eslint-helpers.js:322:27)\n    at async NodeHfs.<anonymous> (file:///C:/Users/Kenth/Desktop/echotrail-project/echotrail/node_modules/@humanfs/core/src/hfs.js:574:24)\n    at async NodeHfs.walk (file:///C:/Users/Kenth/Desktop/echotrail-project/echotrail/node_modules/@humanfs/core/src/hfs.js:614:3)\n    at async globSearch (C:\\Users\\Kenth\\Desktop\\echotrail-project\\echotrail\\node_modules\\eslint\\lib\\eslint\\eslint-helpers.js:363:20)\n    at async Promise.allSettled (index 0)\n",
      "output": "",
      "stderr": "\nOops! Something went wrong! :(\n\nESLint: 9.35.0\n\nError: Key \"rules\": Key \"sonarjs/no-duplicate-string\":\n\tValue 5 should be object.\n\n    at Config.validateRulesConfig (C:\\Users\\Kenth\\Desktop\\echotrail-project\\echotrail\\node_modules\\eslint\\lib\\config\\config.js:612:12)\n    at new Config (C:\\Users\\Kenth\\Desktop\\echotrail-project\\echotrail\\node_modules\\eslint\\lib\\config\\config.js:484:9)\n    at [finalizeConfig] (C:\\Users\\Kenth\\Desktop\\echotrail-project\\echotrail\\node_modules\\eslint\\lib\\config\\flat-config-array.js:212:10)\n    at FlatConfigArray.getConfigWithStatus (C:\\Users\\Kenth\\Desktop\\echotrail-project\\echotrail\\node_modules\\@eslint\\config-array\\dist\\cjs\\index.cjs:1404:55)\n    at FlatConfigArray.getConfig (C:\\Users\\Kenth\\Desktop\\echotrail-project\\echotrail\\node_modules\\@eslint\\config-array\\dist\\cjs\\index.cjs:1422:15)\n    at entryFilter (C:\\Users\\Kenth\\Desktop\\echotrail-project\\echotrail\\node_modules\\eslint\\lib\\eslint\\eslint-helpers.js:322:27)\n    at async NodeHfs.<anonymous> (file:///C:/Users/Kenth/Desktop/echotrail-project/echotrail/node_modules/@humanfs/core/src/hfs.js:574:24)\n    at async NodeHfs.walk (file:///C:/Users/Kenth/Desktop/echotrail-project/echotrail/node_modules/@humanfs/core/src/hfs.js:614:3)\n    at async globSearch (C:\\Users\\Kenth\\Desktop\\echotrail-project\\echotrail\\node_modules\\eslint\\lib\\eslint\\eslint-helpers.js:363:20)\n    at async Promise.allSettled (index 0)\n",
      "timestamp": "2025-09-18T16:40:00.080Z"
    },
    {
      "name": "Prisma Schema Validation",
      "status": "PASSED",
      "command": "pnpm prisma validate",
      "output": null,
      "timestamp": "2025-09-18T16:40:01.631Z"
    },
    {
      "name": "Database Connection Test",
      "status": "FAILED",
      "command": "pnpm prisma db pull --preview-feature",
      "error": "Command failed: pnpm prisma db pull --preview-feature",
      "output": "",
      "stderr": "",
      "timestamp": "2025-09-18T16:40:03.034Z"
    },
    {
      "name": "Prisma Client Generation",
      "status": "PASSED",
      "command": "pnpm prisma generate",
      "output": null,
      "timestamp": "2025-09-18T16:40:04.971Z"
    },
    {
      "name": "NPM Security Audit",
      "status": "WARNING",
      "command": "pnpm audit",
      "error": "Command failed: pnpm audit",
      "output": "┌─────────────────────┬────────────────────────────────────────────────────────┐\n│ moderate            │ Server-Side Request Forgery in Request                 │\n├─────────────────────┼────────────────────────────────────────────────────────┤\n│ Package             │ request                                                │\n├─────────────────────┼────────────────────────────────────────────────────────┤\n│ Vulnerable versions │ <=2.88.2                                               │\n├─────────────────────┼────────────────────────────────────────────────────────┤\n│ Patched versions    │ <0.0.0                                                 │\n├─────────────────────┼────────────────────────────────────────────────────────┤\n│ Paths               │ apps__backend>clinic>insight>request                   │\n├─────────────────────┼────────────────────────────────────────────────────────┤\n│ More info           │ https://github.com/advisories/GHSA-p8p7-x288-28g6      │\n└─────────────────────┴────────────────────────────────────────────────────────┘\n1 vulnerabilities found\nSeverity: 1 moderate\n",
      "stderr": "",
      "timestamp": "2025-09-18T16:40:07.958Z"
    },
    {
      "name": "Snyk Security Scan",
      "status": "WARNING",
      "command": "npx snyk test --all-projects",
      "error": "Command failed: npx snyk test --all-projects",
      "output": "\n ERROR   Authentication error (SNYK-0005)\n         Authentication credentials not recognized, or user access is not provisioned.  \n         Revise credentials and try again, or request access from your Snyk             \n         administrator.                                                                 \n                                                                                        \n           Use `snyk auth` to authenticate.                                             \n\nStatus:  401 Unauthorized \nDocs:    https://docs.snyk.io/scan-with-snyk/error-catalog#snyk-0005 \n                                                                     \nID:      urn:snyk:interaction:7af7c2b1-2b9e-4e32-8fb4-a731263e6141 \n",
      "stderr": "",
      "timestamp": "2025-09-18T16:40:12.510Z"
    },
    {
      "name": "Database Seeding",
      "status": "PASSED",
      "command": "pnpm db:seed",
      "output": null,
      "timestamp": "2025-09-18T16:40:15.290Z"
    },
    {
      "name": "Environment File Check (.env)",
      "status": "PASSED",
      "timestamp": "2025-09-18T16:40:15.291Z"
    },
    {
      "name": "Environment File Check (.env.local)",
      "status": "FAILED",
      "error": "File .env.local not found",
      "timestamp": "2025-09-18T16:40:15.291Z"
    },
    {
      "name": "Environment File Check (.env.development)",
      "status": "FAILED",
      "error": "File .env.development not found",
      "timestamp": "2025-09-18T16:40:15.291Z"
    },
    {
      "name": "Critical File Check (package.json)",
      "status": "PASSED",
      "timestamp": "2025-09-18T16:40:15.292Z"
    },
    {
      "name": "Critical File Check (tsconfig.json)",
      "status": "PASSED",
      "timestamp": "2025-09-18T16:40:15.292Z"
    },
    {
      "name": "Critical File Check (prisma/schema.prisma)",
      "status": "PASSED",
      "timestamp": "2025-09-18T16:40:15.292Z"
    },
    {
      "name": "Critical File Check (src/server.ts)",
      "status": "PASSED",
      "timestamp": "2025-09-18T16:40:15.292Z"
    },
    {
      "name": "Critical File Check (src/app.ts)",
      "status": "PASSED",
      "timestamp": "2025-09-18T16:40:15.292Z"
    }
  ],
  "summary": {
    "passed": 13,
    "failed": 3,
    "warnings": 6
  }
}